"0","total_gantt<-read.csv(""dev_gantt.csv"",h=T)"
"0",""
"0",""
"0",""
"0","print_campus = function(total_gantt,campus){"
"0",""
"0","gantt<-filter(total_gantt, Campus==campus)"
"0",""
"0",""
"0","today_Date <- Sys.Date()"
"0",""
"0",""
"0",""
"0","start_Date <-as.Date(min(gsub(""\\."",""-"",gantt$Start)))"
"0","end_Date <- as.Date(max(gsub(""\\."",""-"",gantt$End)))+weeks(1)"
"0",""
"0","gantt[""End""][gantt[""End""]==""0""]<-format(end_Date,""%Y.%m.%d"")"
"0",""
"0","gantt<-gantt[order(as.Date(gantt$Start,format=""%Y.%m.%d"")),]"
"0",""
"0","acts<-unique(as.character(gantt$Activity))"
"0","els <-unique(as.character(gantt$Status))"
"0",""
"0","actcols <- c(""#548235"", ""#2E75B6"", ""#BF9000"", ""#7030A0"", ""#cd6600"")"
"0",""
"0","g.gantt <- gather(gantt, ""state"", ""date"", 6:7) %>% mutate(date = as.Date(date, ""%Y.%m.%d""), Activity=factor(Activity, acts[length(acts):1]), Status=factor(Status, els))"
"0",""
"0","ggplot(g.gantt, aes(date, Activity, colour = Status, group=Item)) +"
"0","  geom_line(linewidth = 10) +"
"0","  scale_color_manual(values=actcols, name=""Key"") +"
"0","  labs(x=""Project year"", y=NULL, title=""Project timeline"") + "
"0","  scale_x_date(date_labels = ""%b %d"")+"
"0","  theme_gray(base_size=14)+"
"0","  annotate(geom = ""vline"","
"0","           x = today_Date,"
"0","           xintercept = today_Date,"
"0","           linetype = ""dashed"","
"0","           colour = ""red"", "
"0","           linewidth = 1.5) "
"0","}"
"0",""
"0","print_campus(total_gantt,""Berkeley"")"
"0",""
